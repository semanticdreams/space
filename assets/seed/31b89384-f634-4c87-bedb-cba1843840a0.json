{"id": "31b89384-f634-4c87-bedb-cba1843840a0", "type": "class", "data": "{\"code_str\": \"class SpeechRecorderIndicator:\\n    def __init__(self):\\n        self.label = z.ContextButton(hud=True,\\n            focusable=False,\\n            label='sr',\\n            color=world.themes.theme.green[800],\\n            actions=[\\n                ('rec', self.rec),\\n            ]\\n        )\\n        world.apps['Hud'].top_panel.add(self.label)\\n\\n        world.vim.modes['normal'].add_action_group(z.VimActionGroup('sr', [\\n            z.VimAction('rec', self.rec, sdl2.SDLK_RCTRL),\\n        ]))\\n\\n    def rec(self):\\n        prev_color = self.label.color\\n        self.label.set_color((1, 0.1, 0.3, 1))\\n        def f():\\n            result = world.apps.ensure_app('SpeechRecorder').listen_and_recognize()\\n            print(result)\\n            self.label.set_color(prev_color)\\n        world.next_tick(f)\\n\\n    def drop(self):\\n        world.vim.modes['normal'].remove_action_group('sr')\\n        world.apps['Hud'].top_panel.remove(self.label)\\n        self.label.drop()\\n\", \"name\": \"SpeechRecorderIndicator\"}", "created_at": null, "updated_at": 1751906432.7431114}