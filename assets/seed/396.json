{"id": "396", "type": "class", "data": "{\"code_str\": \"class SolanaView:\\n    def __init__(self, focus_parent=world.focus):\\n        self.focus = focus_parent.add_child(self)\\n        self.balance_label = z.Label()\\n        self.layout = self.balance_label.layout\\n\\n        world.aio.create_task(self.update())\\n        \\n    async def update(self):\\n        await self.update_balance()\\n        #await self.update_tokens()\\n        \\n    async def update_balance(self):\\n        kernel = world.kernels[1]\\n        cls = world.classes.get_class_code(name='Solana')\\n        await kernel.send_code_async(cls)\\n        privkey = world.apps['Secrets'].get('solana-privkey')\\n        code = dict(code='solana = Solana(_registers[\\\"privkey\\\"]); _registers[\\\"balance\\\"] = solana.get_trading_wallet_balance()',\\n                    )\\n        result = await kernel.send_code_async(code, registers=dict(privkey=privkey))\\n        self.balance_label.set_text(str(result['registers']['balance']))\\n\\n    async def update_tokens(self):\\n        kernel = world.kernels[1]\\n        cls = world.classes.get_class_code(name='Solana')\\n        await kernel.send_code_async(cls)\\n        privkey = world.apps['Secrets'].get('solana-privkey')\\n        code = dict(code='solana = Solana(_registers[\\\"privkey\\\"]); _registers[\\\"balance\\\"] = solana.get_tokens()',\\n                    )\\n        result = await kernel.send_code_async(code, registers=dict(privkey=privkey))\\n        print(result)\\n        \\n    def drop(self):\\n        self.balance_label.drop()\\n\", \"name\": \"SolanaView\"}", "created_at": null, "updated_at": 1751906432.7433827}