{"id": "7d9d03dd-c4af-41d7-9b2a-4b78bce260cb", "type": "class", "data": "{\"code_str\": \"class WorkspaceIndicator:\\n    def __init__(self):\\n        self.workspaces = world.apps['Workspaces']\\n        actions = [(x.name, lambda x=x: self.set_workspace(x))\\n                    for x in self.workspaces.workspaces.values()]\\n        self.label = z.ContextButton(\\n            hud=True,\\n            focusable=False,\\n            label=self.get_label(),\\n            color=world.themes.theme.indigo,\\n            actions=actions\\n        )\\n        world.apps['Hud'].top_panel.add(self.label)\\n\\n        self.workspaces.workspace_changed.connect(self.on_workspace_changed)\\n\\n    def get_label(self):\\n        w = self.workspaces.active_workspace\\n        name = w.name if w else 'None'\\n        return f'ws: {name:10}'\\n\\n    def set_workspace(self, workspace):\\n        self.workspaces.set_workspace(workspace.name)\\n\\n    def on_workspace_changed(self, old, new):\\n        self.label.set_label(self.get_label())\\n\\n    def drop(self):\\n        world.apps['Hud'].top_panel.remove(self.label)\\n        self.label.drop()\\n        self.workspaces.workspace_changed.disconnect(self.on_workspace_changed)\\n\", \"name\": \"WorkspaceIndicator\"}", "created_at": null, "updated_at": 1751906432.7406907}