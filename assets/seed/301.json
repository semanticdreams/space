{"id": "301", "type": "class", "data": "{\"code_str\": \"class Tooltips:\\n    def __init__(self):\\n        self.intersectees = []\\n        self.texts = {}\\n        self.active_intersectee = None\\n        self.labels = {}\\n\\n    def update(self):\\n        for label in self.labels.values():\\n            label.layout.update()\\n\\n    def create_tooltip(self, intersectee, text):\\n        self.intersectees.append(intersectee)\\n        self.texts[intersectee] = text\\n\\n    def drop_tooltip(self, intersectee):\\n        del self.texts[intersectee]\\n        return self.intersectees.remove(intersectee)\\n\\n    def activate_tooltip(self, intersectee, ray, intersection):\\n        text = self.texts[intersectee]\\n        label = z.Button(color=(1, 0, 0, 1), text='hello world', hud=True, focusable=False)\\n        position = intersection - 0.1 * ray.direction\\n        label.layout.position = position\\n        self.labels[intersectee] = label\\n        self.active_intersectee = intersectee\\n\\n    def cancel_tooltip(self, intersectee):\\n        label = self.labels.pop(intersectee)\\n        label.drop()\\n        self.active_intersectee = None\\n\\n    def cancel_all(self):\\n        pass\\n\\n    def on_mouse_motion(self, x, y):\\n        ray = world.screen_pos_ray((x, y), projection=world.hud_projection, camera=world.camera['identity'])\\n        [f, i, d, o] = z.multi_intersect(ray, self.intersectees, include_obj=True)\\n        if f:\\n            if self.active_intersectee is None:\\n                _hy_anon_var_2 = self.activate_tooltip(o, ray, i)\\n            else:\\n                if self.active_intersectee != o:\\n                    self.cancel_tooltip(self.active_intersectee)\\n                    _hy_anon_var_1 = self.activate_tooltip(o, ray, i)\\n                else:\\n                    _hy_anon_var_1 = None\\n                _hy_anon_var_2 = _hy_anon_var_1\\n            _hy_anon_var_3 = _hy_anon_var_2\\n        else:\\n            _hy_anon_var_3 = self.cancel_tooltip(self.active_intersectee) if not self.active_intersectee is None else None\\n        return _hy_anon_var_3\", \"name\": \"Tooltips\"}", "created_at": null, "updated_at": 1756754129.7266867}