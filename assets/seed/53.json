{"id": "53", "type": "code", "data": "{\"code_str\": \"import asyncio\\n\\nfrom nio import AsyncClient, MatrixRoom, RoomMessageText\\n\\n\\nasync def message_callback(room, event):\\n\\n    print(\\n\\n        f\\\"Message received in room {room.display_name}\\\\n\\\"\\n\\n        f\\\"{room.user_name(event.sender)} | {event.body[:100]}\\\"\\n\\n    )\\n\\n\\n\\nasync def main():\\n    client = AsyncClient(\\\"http://localhost:6167\\\", \\\"@sam:matrix.semanticdreams.com\\\")\\n\\n    client.add_event_callback(message_callback, RoomMessageText)\\n\\n    print(await client.login(\\\"\\\"))\\n\\n    # await client.join(\\\"your-room-id\\\")\\n\\n\\n    #await client.room_send(\\n    #    room_id=\\\"!unMJ6Bk6ZNBDStUdzW:matrix.semanticdreams.com\\\"\\n    #,\\n    #    message_type=\\\"m.room.message\\\",\\n    #    content={\\\"msgtype\\\": \\\"m.text\\\", \\\"body\\\": \\\"Hello world!\\\"},\\n    #)\\n\\n    await client.sync_forever(timeout=30000)\\n\\n\\n\\nasyncio.run(main())\\n\\n\", \"name\": \"example for using nio for matrix\", \"kernel\": 0, \"lang\": \"py\", \"summary\": null, \"project_id\": 1, \"autolaunch\": 0, \"launchable\": 0}", "created_at": null, "updated_at": 1751811489.7279098}