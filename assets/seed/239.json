{"id": "239", "type": "class", "data": "{\"code_str\": \"class Cuboid:\\n    _rotations = [np.asarray(x, float) for x in [\\n        (1, 0, 0, 0),\\n        transformations.quaternion_about_axis(math.pi, (0, 1, 0)),\\n        transformations.quaternion_about_axis(math.pi * 1.5, (0, 1, 0)),\\n        transformations.quaternion_about_axis(math.pi * 0.5, (0, 1, 0)),\\n        transformations.quaternion_about_axis(math.pi * 1.5, (1, 0, 0)),\\n        transformations.quaternion_about_axis(math.pi * 0.5, (1, 0, 0)),\\n    ]]\\n\\n    def __init__(self, children):\\n        self.layout = z.Layout(children=children, measurer=self.measurer, layouter=self.layouter, name='cuboid')\\n\\n    def measurer(self):\\n        for child in self.layout.children:\\n            child.measurer()\\n        m = [x.measure for x in self.layout.children]\\n        self.layout.measure = np.array((\\n            max(m[0][0], m[1][0], m[4][0], m[5][0]),\\n            max(m[0][1], m[1][1], m[2][1], m[3][1]),\\n            max(m[2][0], m[3][0], m[4][1], m[5][1]),\\n        ), float)\\n\\n    def layouter(self):\\n        axis_mapping = {0: (0, 1, 2), 1: (0, 1, 2), 3: (2, 1, 0), 2: (2, 1, 0),\\n                        5: (0, 2, 1), 4: (0, 2, 1)}\\n        for i, child in enumerate(self.layout.children):\\n            child.size = np.array([self.layout.size[x] for x in axis_mapping[i]], float)\\n        offsets = np.array((\\n            (0, 0, 0),\\n            (-self.layout.size[0], 0, self.layout.size[2]),\\n            (-self.layout.size[2], 0, 0),\\n            (0, 0, self.layout.size[0]),\\n            (0, 0, self.layout.size[1]),\\n            (0, -self.layout.size[2], 0)\\n        ), float)\\n        for i, child in enumerate(self.layout.children):\\n            child.rotation = transformations.quaternion_multiply(\\n                self.layout.rotation, self._rotations[i])\\n            child.position = self.layout.position + \\\\\\n                    transformations.rotate_vector(child.rotation, offsets[i])\\n            child.depth_offset_index = self.layout.depth_offset_index\\n            child.layouter()\\n\\n    def drop(self):\\n        self.layout.drop()\\n\", \"name\": \"Cuboid\"}", "created_at": null, "updated_at": 1754239007.5052464}