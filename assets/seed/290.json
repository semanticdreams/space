{"id": "290", "type": "class", "data": "{\"code_str\": \"class GraphsView:\\n    def __init__(self):\\n        self.focus = world.focus.add_child(self)\\n\\n        actions = [\\n            ('create graph', self.create_graph_triggered),\\n        ]\\n        self.head = z.ContextButton(label='graphs',\\n                                            color=(0.7, 0.3, 0.8, 1),\\n                                            focus_parent=self.focus,\\n                                            focusable=False,\\n                                            actions=actions)\\n\\n        graphs = world.graphs.get_graphs()\\n        self.search_view = z.SearchView(\\n            [],\\n            builder=self.graph_item_builder,\\n            show_head=False,\\n            focus_parent=self.focus\\n        )\\n\\n        self.column = z.Flex([self.head, self.search_view],\\n                                     axis='y')\\n\\n        self.layout = self.column.layout\\n        self.spatiolator = z.Spatiolator(\\n            self.layout, self.head.spatiolator.handle)\\n\\n        self.update_search_view_items()\\n\\n    def graph_item_builder(self, item, context):\\n        return z.ContextButton(\\n            label=item[1],\\n            focus_parent=context['focus_parent'],\\n            color=(0.4, 0.9, 0.4, 1),\\n            actions=[\\n                ('view', lambda: self.view_triggered(item[0])),\\n                ('rename', lambda: self.rename_graph_triggered(item[0])),\\n                ('archive', lambda: self.archive_graph_triggered(item[0])),\\n            ]\\n        )\\n\\n    def update_search_view_items(self):\\n        self.search_view.set_items(\\n            [(x, x['name']) for x in world.graphs.get_graphs()]\\n        )\\n\\n    def view_triggered(self, graph):\\n        world.floaties.add(GraphView(model=GraphModel(graph)))\\n\\n    def archive_graph_triggered(self, graph):\\n        world.graphs.archive_graph(graph['id'])\\n        self.update_search_view_items()\\n\\n    def rename_graph_triggered(self, graph):\\n        new_name = world.dialogs.edit_string(graph['name']).strip()\\n        world.graphs.update_graph_name(graph['id'], new_name)\\n        self.update_search_view_items()\\n\\n    def create_graph_triggered(self):\\n        graph = world.graphs.create_graph()\\n        self.update_search_view_items()\\n\\n    def drop(self):\\n        self.column.drop()\\n        self.head.drop()\\n        self.search_view.drop()\\n        self.focus.drop()\", \"name\": \"GraphsView\"}", "created_at": null, "updated_at": 1751906432.7483695}