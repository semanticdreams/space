{"id": "104", "type": "class", "data": "{\"code_str\": \"import pypika\\nfrom OpenGL.GL import *\\nfrom OpenGL.GL.shaders import *\\nimport OpenGL.GLU as glu\\n\\n\\nclass Shaders:\\n    def __init__(self):\\n        self.reload()\\n        world.shaders = self\\n\\n    def reload(self):\\n        self.entities = z.ShaderEntity.all()\\n\\n    def create_shader(self):\\n        z.ShaderEntity.create()\\n        self.reload()\\n\\n    def find_shader(self, name):\\n        return one([x for x in self.entities if x.name == name])\\n\\n    def build_program(self, vertex_shader_code, fragment_shader_code):\\n        vertex_shader = compileShader([vertex_shader_code.code_str], GL_VERTEX_SHADER)\\n        fragment_shader = compileShader([fragment_shader_code.code_str], GL_FRAGMENT_SHADER)\\n        program = glCreateProgram()\\n        if not program:\\n            raise RuntimeError('glCreateProgram faled!')\\n        glAttachShader(program, vertex_shader)\\n        glAttachShader(program, fragment_shader)\\n        glLinkProgram(program)\\n        linked = glGetProgramiv(program, GL_LINK_STATUS)\\n        if not linked:\\n            infoLen = glGetProgramiv(program, GL_INFO_LOG_LENGTH)\\n            infoLog = \\\"\\\"\\n            if infoLen > 1:\\n                infoLog = glGetProgramInfoLog(program, infoLen, None);\\n            glDeleteProgram(program)\\n            raise RunTimeError(\\\"Error linking program:\\\\n%s\\\\n\\\", infoLog);\\n        return program\\n\\n    def drop(self):\\n        pass\\n\", \"name\": \"Shaders\"}", "created_at": null, "updated_at": 1756754129.722521}