{"id": "288", "type": "class", "data": "{\"code_str\": \"import time\\n\\n\\nclass DefaultViews:\\n    def __init__(self):\\n        pass\\n\\n    def set_default_view(self, type_name, view_class_name, pos=0):\\n        current_time = int(time.time())\\n        cursor = world.db.cursor()\\n        cursor.execute(\\n            \\\"SELECT id FROM default_views WHERE type_name = ? AND view_class_name = ?\\\",\\n            (type_name, view_class_name)\\n        )\\n        row = cursor.fetchone()\\n        if row:\\n            # Update existing entry\\n            cursor.execute(\\n                \\\"\\\"\\\"\\n                UPDATE default_views\\n                SET updated_at = ?, pos = ?\\n                WHERE id = ?\\n                \\\"\\\"\\\",\\n                (current_time, pos, row['id'])\\n            )\\n        else:\\n            # Insert new entry\\n            cursor.execute(\\n                \\\"\\\"\\\"\\n                INSERT INTO default_views (type_name, view_class_name, pos, created_at, updated_at)\\n                VALUES (?, ?, ?, ?, ?)\\n                \\\"\\\"\\\",\\n                (type_name, view_class_name, pos, current_time, current_time)\\n            )\\n        world.db.commit()\\n\\n    def get_views(self, type_name):\\n        cursor = world.db.cursor()\\n        cursor.execute(\\n            \\\"\\\"\\\"\\n            SELECT view_class_name\\n            FROM default_views\\n            WHERE type_name = ?\\n            ORDER BY pos ASC, updated_at DESC\\n            \\\"\\\"\\\",\\n            (type_name,)\\n        )\\n        views = [row['view_class_name'] for row in cursor.fetchall()]\\n        return views\\n\\n    def drop(self):\\n        pass\\n\", \"name\": \"DefaultViews\"}", "created_at": null, "updated_at": 1756754129.7308223}