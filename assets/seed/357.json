{"id": "357", "type": "class", "data": "{\"code_str\": \"class CameraBoxSelector:\\n    def __init__(self):\\n        self.world = world\\n        self.box_selector = z.BoxSelector()\\n        self.box_selector.changed.connect(self.box_selected)\\n        self.box_selector.exited.connect(self.box_exited)\\n\\n        world.states.create_state(name='camera-box-selector',\\n                                  on_enter=self.on_enter, on_leave=self.on_leave)\\n\\n    def on_enter(self):\\n        world.window.mouse_button.connect(self.box_selector.on_mouse_button)\\n        world.window.mouse_motion.connect(self.box_selector.on_mouse_motion)\\n        world.window.keyboard.connect(self.box_selector.on_keyboard)\\n\\n    def on_leave(self):\\n        world.window.mouse_button.disconnect(self.box_selector.on_mouse_button)\\n        world.window.mouse_motion.disconnect(self.box_selector.on_mouse_motion)\\n        world.window.keyboard.disconnect(self.box_selector.on_keyboard)\\n\\n    def box_selected(self, box):\\n        p1, p2 = box\\n        u1 = self.world.unproject((*p1, 0.9))\\n        u2 = self.world.unproject((*p2, 0.9))\\n        center = (u1 + u2) / 2\\n        camera_direction = normalize(center - self.world.camera.camera.position)\\n        distance = 60\\n        new_camera_position = center + camera_direction * distance\\n        self.world.camera.camera.set_position(new_camera_position)\\n\\n    def box_exited(self):\\n        self.world.states.transit_back()\", \"name\": \"CameraBoxSelector\"}", "created_at": null, "updated_at": 1754239007.503681}