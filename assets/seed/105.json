{"id": "105", "type": "class", "data": "{\"code_str\": \"class LayoutView:\\n    def __init__(self, lt):\\n        self.lt = lt\\n\\n        self.focus = world.focus.add_child(self)\\n        self.name = z.ReactiveValue(self.make_name())\\n\\n        actions = [\\n            ('reload', self.reload_triggered),\\n            ('stats', lambda: world.floaties.add(world.classes['LayoutStatsView'](self.lt))),\\n        ]\\n        self.action_buttons = []\\n        for name, func in actions:\\n            button = z.Button(name, focus_parent=self.focus)\\n            button.clicked.connect(lambda f, i, d, func=func: func())\\n            self.action_buttons.append(button)\\n        self.spacer = z.Spacer()\\n        self.head = z.Flex(children=[\\n            *[z.FlexChild(x) for x in self.action_buttons],\\n            z.FlexChild(self.spacer, flex=1)\\n        ])\\n\\n        self.list_view = z.ListView(self.lt.children, show_head=False, focus_parent=self.focus, builder=self.builder)\\n\\n        self.column = z.Flex([self.head, self.list_view], axis='y', xalign='largest')\\n        self.layout = self.column.layout\\n\\n    def builder(self, item, context):\\n        return z.ContextButton(\\n            label=item.name, focus_parent=context['focus_parent'],\\n            actions=[\\n                ('get', lambda item=item: world.floaties.add(LayoutView(item))),\\n            ]\\n        )\\n\\n    def reload_triggered(self):\\n        self.list_view.set_items(self.lt.children)\\n\\n    def make_name(self):\\n        return f'Layout: {self.lt.name}'\\n\\n    def drop(self):\\n        self.column.drop()\\n        self.head.drop()\\n        self.spacer.drop()\\n        for button in self.action_buttons:\\n            button.drop()\\n        self.list_view.drop()\\n        self.focus.drop()\", \"name\": \"LayoutView\"}", "created_at": null, "updated_at": 1754736945.4680345}