{"id": "341", "type": "class", "data": "{\"code_str\": \"class Gamepads:\\n    def __init__(self):\\n        self.gamepads = []\\n        self.primary = None\\n        self.gamepad_added = z.Signal()\\n        self.gamepad_removed = z.Signal()\\n        self.reload()\\n\\n    def add(self, joystick_device_index):\\n        gamepad = z.Gamepad(joystick_device_index)\\n        self.gamepads.append(gamepad)\\n        if self.primary is None:\\n            self.primary = gamepad\\n        self.gamepad_added.emit(gamepad)\\n        return gamepad\\n\\n    def remove(self, sdl_id):\\n        gamepad = one(list(filter(lambda x: x.sdl_id == sdl_id, self.gamepads)))\\n        gamepad.drop()\\n        self.gamepads.remove(gamepad)\\n        if self.primary == gamepad:\\n            self.primary = self.gamepads[0] if self.gamepads else None\\n        self.gamepad_removed.emit(gamepad)\\n\\n    def reload(self):\\n        self.gamepads = [z.Gamepad(i) for i in range(sdl2.SDL_NumJoysticks())\\n                         if sdl2.SDL_IsGameController(i)]\\n        self.primary = self.gamepads[0] if self.gamepads else None\\n\\n    def __getitem__(self, key):\\n        return self.gamepads[key]\\n\\n    def dump(self):\\n        return [x.dump() for x in self.gamepads]\\n\\n    def drop(self):\\n        self.primary = None\\n        for gamepad in self.gamepads:\\n            gamepad.drop()\\n        self.gamepads = []\\n\", \"name\": \"Gamepads\"}", "created_at": null, "updated_at": 1751906432.7472687}