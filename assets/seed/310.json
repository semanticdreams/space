{"id": "310", "type": "class", "data": "{\"code_str\": \"import json\\nimport time\\nfrom OpenGL.GL import *\\nfrom PIL import Image\\n\\n\\nclass Font:\\n    def __init__(self, png_path, json_path):\\n        self.meta = json.load(open(json_path))\\n        self.texture = self.load_texture(png_path)\\n        self.glyph_map = {x['unicode']: x for x in self.meta['glyphs']}\\n        self.monospace = True\\n        self.advance = 0.5\\n\\n    def load_texture(self, png_path):\\n        texture = glGenTextures(1)\\n        glBindTexture(GL_TEXTURE_2D, texture)\\n\\n        image = Image.open(png_path)\\n        #image_data = np.array(list(image.getdata()), np.uint8)\\n        image_data = np.asarray(image, np.uint8)\\n        glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, image.width, image.height, 0, GL_RGB, GL_UNSIGNED_BYTE, image_data)\\n\\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE)\\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE)\\n        #glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_R, GL_CLAMP_TO_EDGE)\\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR)\\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR)\\n\\n        #max_anisotropy = glGetFloatv(GL_MAX_TEXTURE_MAX_ANISOTROPY)\\n        #glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MAX_ANISOTROPY, max_anisotropy)\\n\\n        return texture\\n\\n    def drop(self):\\n        glDeleteTextures(self.texture)\\n\", \"name\": \"Font\"}", "created_at": null, "updated_at": 1756754129.7240334}