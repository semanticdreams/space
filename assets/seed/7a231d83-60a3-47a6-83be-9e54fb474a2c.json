{"id": "7a231d83-60a3-47a6-83be-9e54fb474a2c", "type": "code", "data": "{\"code_str\": \"(fn [this]\\n  (local shader (let [shader-entity (this:get-child {:value \\\"shader\\\"})\\n         vertex-shader-entity (this.graph:get-child shader-entity {:name \\\"triangle.vert\\\"})\\n         fragment-shader-entity (this.graph:get-child shader-entity {:name \\\"triangle.frag\\\"})]\\n         (shaders.load_shader \\\"triangles\\\" vertex-shader-entity.code-str fragment-shader-entity.code-str)))\\n  (local vao (gl.glGenVertexArrays 1))\\n  (local vbo (gl.glGenBuffers 1))\\n  (gl.glBindVertexArray vao)\\n  (shader:use)\\n  (shader:setVector3f \\\"dirLight.direction\\\" 0.5 0.2 1.0)\\n  (shader:setVector3f \\\"dirLight.ambient\\\" 0.4 0.4 0.4)\\n  (shader:setVector3f \\\"dirLight.diffuse\\\" 0.6 0.6 0.6)\\n  (shader:setVector3f \\\"dirLight.specular\\\" 1.0 1.0 1.0)\\n  (gl.glBindBuffer gl.GL_ARRAY_BUFFER vbo)\\n  (gl.glEnableVertexAttribArray 0)\\n  (gl.glEnableVertexAttribArray 1)\\n  (gl.glEnableVertexAttribArray 2)\\n  (local stride (* 8 4))\\n  (gl.glVertexAttribPointer 0 3 gl.GL_FLOAT gl.GL_FALSE stride 0)\\n  (gl.glVertexAttribPointer 1 4 gl.GL_FLOAT gl.GL_FALSE stride (* 4 3))\\n  (gl.glVertexAttribIPointer 2 1 gl.GL_INT stride (* 4 7))\\n\\n  (fn render [self vector projection view]\\n   (gl.glBindVertexArray vao)\\n   (gl.glBindBuffer gl.GL_ARRAY_BUFFER vbo)\\n   (gl.bufferDataFromVectorBuffer vector gl.GL_ARRAY_BUFFER gl.GL_STREAM_DRAW)\\n   (shader:use)\\n   (shader:setMatrix4 \\\"projection\\\" projection)\\n   (shader:setMatrix4 \\\"view\\\" view)\\n   (shader:setVector3f \\\"viewPos\\\" (glm.vec3:new 0.0))\\n   (gl.glDrawArrays gl.GL_TRIANGLES 0 (/ (vector:length) 8))\\n    )\\n\\n {: shader\\n  : render})\\n\", \"name\": \"triangle-renderer\", \"kernel\": 0, \"lang\": \"py\", \"summary\": null, \"project_id\": 1, \"autolaunch\": 0, \"launchable\": 0}", "created_at": 1753455347.353329, "updated_at": 1753998713.2886996}