{"id": "175", "type": "class", "data": "{\"code_str\": \"class LaunchableCodesView:\\n    def __init__(self):\\n        self.name = z.ReactiveValue('launchable-codes')\\n        self.focus = world.focus.add_child(self)\\n        actions = [\\n            ('create launchable code', self.create_triggered),\\n            ('reload', self.load_launchable_codes),\\n        ]\\n        self.head = world.classes['ActionsPanel'](actions, self.focus)\\n        #self.buttons = []\\n        #for name, func in actions:\\n        #    button = Button(name, focus_parent=self.focus)\\n        #    button.clicked.connect(lambda f, i, d, func=func: func())\\n        #    self.buttons.append(button)\\n        #self.spacer = Spacer()\\n        #self.head = Flex(children=[\\n        #    *[FlexChild(x.layout) for x in self.buttons],\\n        #    FlexChild(self.spacer.layout, flex=1)\\n        #])\\n        self.search_view = z.SearchView(items=[], builder=self.builder,\\n                                      focus_parent=self.focus, show_head=False)\\n        self.column = z.Flex([\\n            z.FlexChild(self.head.layout),\\n            z.FlexChild(self.search_view.layout)], axis='y', xalign='largest')\\n        self.layout = self.column.layout\\n\\n        self.load_launchable_codes()\\n\\n    def load_launchable_codes(self):\\n        items = [(x, x['name'] or '') for x in world.apps['LaunchableCodes'].get_launchable_codes()]\\n        self.search_view.set_items(items)\\n\\n    def builder(self, item, context):\\n        return z.ContextButton(label=item[1], focus_parent=context['focus_parent'], actions=[\\n            ('get', lambda item=item: self.get_launchable_code_triggered(item[0])),\\n            ('delete', lambda item=item: self.delete_launchable_code_triggered(item[0])),\\n        ])\\n\\n    def create_triggered(self):\\n        code_id = world.codes.create_code()\\n        launchable_code = world.apps['LaunchableCodes'].create_launchable_code(code_id)\\n        self.load_launchable_codes()\\n        world.floaties.add(world.classes['LaunchableCodeView'](launchable_code))\\n\\n    def get_launchable_code_triggered(self, item):\\n        world.floaties.add(world.classes['LaunchableCodeView'](item))\\n\\n    def delete_launchable_code_triggered(self, item):\\n        world.apps['LaunchableCodes'].delete_launchable_code(item['name'])\\n        self.load_launchable_codes()\\n\\n    def drop(self):\\n        self.column.drop()\\n        self.head.drop()\\n        #self.spacer.drop()\\n        #for button in self.buttons:\\n        #    button.drop()\\n        self.search_view.drop()\\n        self.focus.drop()\", \"name\": \"LaunchableCodesView\"}", "created_at": null, "updated_at": 1754239007.503038}