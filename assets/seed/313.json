{"id": "313", "type": "class", "data": "{\"code_str\": \"class Hoverables:\\n    def __init__(self):\\n        self.objs = []\\n        self.active = None\\n\\n    def add_hoverable(self, obj):\\n        self.objs.append(obj)\\n\\n    def remove_hoverable(self, obj):\\n        self.objs.remove(obj)\\n        if self.active == obj:\\n            self.active.on_hovered(False)\\n            self.active = None\\n\\n    def on_leave(self):\\n        if self.active:\\n            self.active.on_hovered(False)\\n            self.active = False\\n\\n    def on_enter(self):\\n        self.apply_mouse_pos(world.window.mouse_pos)\\n\\n    def on_mouse_motion(self, x, y):\\n        self.apply_mouse_pos((x, y))\\n\\n    def apply_mouse_pos(self, pos):\\n        ray = world.screen_pos_ray(pos)\\n        hud_ray = world.screen_pos_ray(pos, projection=world.hud_projection, camera=world.camera['identity'])\\n\\n        f, i, d, o = util.multi_intersect(hud_ray, [x for x in self.objs if x.hud], include_obj=True)\\n        if not f:\\n            f, i, d, o = util.multi_intersect(ray, [x for x in self.objs if not x.hud], include_obj=True)\\n\\n        if f:\\n            if self.active:\\n                if self.active != o:\\n                    self.active.on_hovered(False)\\n                    o.on_hovered(True)\\n                    self.active = o\\n            else:\\n                o.on_hovered(True)\\n                self.active = o\\n        elif self.active:\\n            self.active.on_hovered(False)\\n            self.active = False\\n\\n    def drop(self):\\n        pass\\n\", \"name\": \"Hoverables\"}", "created_at": null, "updated_at": 1754736945.491691}