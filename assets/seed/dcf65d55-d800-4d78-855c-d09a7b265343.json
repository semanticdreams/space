{"id": "dcf65d55-d800-4d78-855c-d09a7b265343", "type": "class", "data": "{\"code_str\": \"class FlatGround:\\n    def __init__(self):\\n        # Use only a static plane for physics \\u2014 no terrain mesh needed\\n        self.ground_shape = bt.StaticPlaneShape(bt.Vector3(0, 1, 0), 0)  # y=0\\n        self.ground_motion_state = bt.DefaultMotionState(bt.Transform(\\n            bt.Quaternion(0, 0, 0, 1), bt.Vector3(0, -100, 0)))\\n        self.ground_body = bt.RigidBody(bt.RigidBodyConstructionInfo(\\n            0, self.ground_motion_state, self.ground_shape,\\n            bt.Vector3(0, 0, 0))\\n        )\\n        world.physics.addRigidBody(self.ground_body)\\n\\n        # Flat visual terrain only, not used for physics\\n        self.terrain = z.FlatTerrain()\\n\\n        # Falling test box\\n        self.shape = bt.BoxShape(bt.Vector3(1, 1, 1))\\n        mass = bt.Scalar(1.0)\\n        position = bt.Vector3(0, -90, 0)\\n        self.motion_state = bt.DefaultMotionState(bt.Transform(bt.Quaternion(0, 0, 0, 1), position))\\n        inertia = bt.Vector3(0, 0, 0)\\n        self.shape.setLocalScaling(bt.Vector3(1, 1, 1))\\n        self.shape.calculateLocalInertia(mass, inertia)\\n        body_info = bt.RigidBodyConstructionInfo(mass, self.motion_state, self.shape, inertia)\\n        self.body = bt.RigidBody(body_info)\\n        world.physics.addRigidBody(self.body)\\n\\n        # Visual box\\n        self.rectangles = z.Rectangle(color=(0, 1, 0, 1)) * 6\\n        self.cuboid = z.Cuboid([x.layout for x in self.rectangles])\\n        self.cuboid.layout.size = np.array((10, 10, 10))\\n\\n        world.updated.connect(self.update)\\n\\n    def update(self, delta):\\n        t = bt.Transform()\\n        self.body.getMotionState().getWorldTransform(t)\\n        o = t.getOrigin()\\n        self.cuboid.layout.position = np.array((o.x(), o.y(), o.z()))\\n        r = t.getRotation()\\n        self.cuboid.layout.rotation = np.array((r.w(), r.x(), r.y(), r.z()))\\n        self.cuboid.layout.layouter()\\n\\n    def drop(self):\\n        world.updated.disconnect(self.update)\\n        self.cuboid.drop()\\n        [x.drop() for x in self.rectangles]\\n        world.physics.removeRigidBody(self.body)\\n        world.physics.removeRigidBody(self.ground_body)\\n        self.terrain.drop()\\n\", \"name\": \"FlatGround\"}", "created_at": null, "updated_at": 1754239007.5053995}