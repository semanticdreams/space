{"id": "6e2ade51-49f3-48f3-9f92-86dcb34a399b", "type": "class", "data": "{\"code_str\": \"class GraphEntityNodeNode(z.DynamicGraphNode):\\n    def __init__(self, graph_entity, entity):\\n        self.graph_entity = graph_entity\\n        self.entity = entity\\n        super().__init__(key=f'entity:{entity.id}', label=self.make_label(),\\n                         color=(0.2, 0.2, 1, 1),\\n                         sub_color=self.entity.color,\\n                         view=z.GraphEntityNodeNodeView\\n                        )\\n        self.entity.changed.connect(self.on_changed)\\n\\n    def create_child(self):\\n        child_entity = self.entity.create()\\n        self.graph_entity.add_node(\\n            child_entity\\n        )\\n        self.graph_entity.add_edge(\\n            self.entity, child_entity)\\n        self.graph_entity.save()\\n\\n    def remove_child(self):\\n        self.graph_entity.remove_node(self.entity.id)\\n        self.graph_entity.save()\\n\\n    def make_label(self):\\n        return str(self.entity) if self.entity.label is None else self.entity.label\\n\\n    def on_changed(self):\\n        self.label = self.make_label()\\n        self.set_sub_color(self.entity.color)\\n        self.changed.emit()\\n\\n    def drop(self):\\n        self.entity.changed.disconnect(self.on_changed)\\n        super().drop()\\n\\n\", \"name\": \"GraphEntityNodeNode\"}", "created_at": null, "updated_at": 1754736945.4709182}