{"id": "268", "type": "class", "data": "{\"code_str\": \"import re\\nimport xml.etree.ElementTree as ET\\nfrom collections import defaultdict\\n\\n\\nclass XML:\\n    def __init__(self, text):\\n        self._raw = text\\n        self._tag_map = None  # Lazy-load upon first access\\n        self.elements = []\\n\\n    def _parse_tags(self):\\n        self._tag_map = defaultdict(list)\\n        pattern = r\\\"<(?P<tag>\\\\w+)[^>]*?>.*?</(?P=tag)>\\\"\\n        for match in re.finditer(pattern, self._raw, re.DOTALL):\\n            xml_snippet = match.group(0)\\n            try:\\n                element = ET.fromstring(xml_snippet)\\n                self._tag_map[element.tag].append(element)\\n                self.elements.append(element)\\n            except ET.ParseError:\\n                continue\\n\\n    def ensure_parsed(self):\\n        if self._tag_map is None:\\n            self._parse_tags()\\n\\n    def __getattr__(self, tag):\\n        self.ensure_parsed()\\n        return self._tag_map.get(tag, [])\\n\\n    def set_text(self, new_text):\\n        \\\"\\\"\\\"Replaces the entire raw text and resets parsing state.\\\"\\\"\\\"\\n        self._raw = new_text\\n        self._tag_map = None  # Reset so it re-parses lazily on next access\\n        self.elements.clear()\", \"name\": \"XML\"}", "created_at": null, "updated_at": 1754239007.5013287}