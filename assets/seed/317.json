{"id": "317", "type": "class", "data": "{\"code_str\": \"class Folders:\\n    def get_folder_locator(self, folder_id):\\n        return world.locators.ensure_locator('folder', folder_id)\\n\\n    def create_folder(self, name=''):\\n        with world.db:\\n            cur = world.db.execute('insert into folders (name) values (?)',\\n                             (name,))\\n        return dict(id=cur.lastrowid, name=name)\\n\\n    def create_child_folder(self, parent_id, name=''):\\n        folder = self.create_folder(name=name)\\n        with world.db:\\n            child_locator = self.get_folder_locator(folder['id'])\\n            self.add_child(parent_id, child_locator['id'])\\n        return folder\\n\\n    def add_child(self, folder_id, locator_id):\\n        with world.db:\\n            world.db.execute('insert into folder_items (folder_id, locator_id) values (?, ?)',\\n                             (folder_id, locator_id))\\n\\n    def get_children(self, folder_id):\\n        return list(map(dict, world.db.execute(\\n            'select * from folder_items where folder_id = ?', (folder_id,)).fetchall()))\\n\\n    def update_name(self, folder_id, name):\\n        with world.db:\\n            world.db.execute('update folders set name = ? where id = ?',\\n                       (name, folder_id))\\n\\n    def delete_folder(self, folder_id):\\n        locator = self.get_folder_locator(folder_id)\\n        with world.db:\\n            world.db.execute('delete from folder_items where folder_id = ?',\\n                             (folder_id,))\\n            world.db.execute('delete from folder_items where locator_id = ?',\\n                             (locator['id'],))\\n            world.db.execute('delete from folders where id = ?', (folder_id,))\\n        world.locators.drop_locator(locator['id'])\\n\\n    def get_folder(self, folder_id):\\n        return dict(world.db.execute('select * from folders where id = ?',\\n                               (folder_id,)).fetchall()[0])\\n\\n    def find_folder(self, name):\\n        return dict(world.db.execute('select * from folders where name = ?',\\n                               (name,)).fetchall()[0])\\n\\n    def get_folders(self):\\n        return list(map(dict, world.db.execute('select * from folders').fetchall()))\", \"name\": \"Folders\"}", "created_at": null, "updated_at": 1751906432.742834}