{"id": "384", "type": "class", "data": "{\"code_str\": \"class InsertVimMode(z.VimMode):\\n    def __init__(self):\\n        super().__init__('insert')\\n        self.input = None\\n\\n    def set_input(self, input):\\n        self.input = input\\n\\n    def on_enter(self):\\n        self.input.set_inserting(True)\\n\\n    def on_leave(self):\\n        self.input.set_inserting(False)\\n\\n    def on_character(self, key):\\n        self.input.insert_char(chr(key))\\n\\n    def on_keyboard(self, key, scancode, action, mods):\\n        if action == 1:\\n            if key == sdl2.SDLK_ESCAPE:\\n                world.vim.set_current_mode('normal')\\n                return\\n            elif key == sdl2.SDLK_RETURN and mods == 64:\\n                self.input.submit()\\n                world.vim.set_current_mode('normal')\\n                return\\n            elif key == sdl2.SDLK_v and mods == 64:\\n                for char in world.apps['Clipboard'].get_text():\\n                    self.input.insert_char(char)\\n                return\\n        if action in (1, 2):\\n            if key == sdl2.SDLK_BACKSPACE:\\n                self.input.delete_char()\\n            elif key == sdl2.SDLK_RETURN:\\n                if self.input.multiline:\\n                    self.input.insert_char('\\\\n')\\n                    self.input.match_indent()\\n                else:\\n                    self.input.submitted.emit()\\n                    world.vim.set_current_mode('normal')\\n            elif key == sdl2.SDLK_TAB:\\n                if self.input.tabs:\\n                    if self.input.expandtab:\\n                        for _ in range(self.input.tabstop):\\n                            self.input.insert_char(' ')\\n                    else:\\n                        self.input.insert_char('\\\\t')\\n                else:\\n                    world.vim.set_current_mode('normal')\\n                    world.focus.focus_next()\\n            elif key == sdl2.SDLK_RIGHT:\\n                self.input.move_caret('right')\\n            elif key == sdl2.SDLK_LEFT:\\n                self.input.move_caret('left')\\n\", \"name\": \"InsertVimMode\"}", "created_at": null, "updated_at": 1756754129.7291136}