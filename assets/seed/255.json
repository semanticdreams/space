{"id": "255", "type": "class", "data": "{\"code_str\": \"class TabView:\\n    def __init__(self, items, focus_parent=None, horizontal=False,\\n                 initial_tab=0):\\n        self.focus = focus_parent.add_child(self)\\n        self.items = items\\n        self.current_tab = None\\n        self.current_tab_idx = None\\n        self.buttons = [z.Button(name, focus_parent=self.focus, centered=False,\\n                               on_click=lambda f, i_, d, i=i: self.set_current_tab(i))\\n                        for i, (name, builder) in enumerate(self.items)]\\n        self.button_row = z.Flex([z.FlexChild(x.layout) for x in self.buttons],\\n                               xspacing=0.1 if horizontal else 0.0,\\n                               yspacing=0.1 if not horizontal else 0.0,\\n                               axis='x' if horizontal else 'y',\\n                               yalign='largest' if horizontal else 'start',\\n                               xalign='largest' if not horizontal else 'start')\\n        self.column = z.Flex([z.FlexChild(self.button_row.layout)],\\n                           axis='y' if horizontal else 'x',\\n                           xalign='largest' if horizontal else 'start',\\n                           yspacing=0.1 if horizontal else 0.0,\\n                           yalign='largest' if not horizontal else 'start',\\n                           xspacing=0.1 if not horizontal else 0.0)\\n        self.layout = self.column.layout\\n        if self.items:\\n            self.set_current_tab(initial_tab)\\n\\n    def set_current_tab(self, idx):\\n        if idx < 0:\\n            idx = len(self.items) + idx\\n        self.column.clear_children()\\n        if self.current_tab is not None:\\n            self.current_tab.drop()\\n        context = {\\n            'focus_parent': self.focus\\n        }\\n        self.current_tab_idx = idx\\n        self.current_tab = self.items[idx][1](context)\\n        self.column.set_children([z.FlexChild(self.button_row.layout), z.FlexChild(self.current_tab.layout, flex=1)])\\n        self.layout.mark_measure_dirty()\\n\\n    def reload_current_tab(self):\\n        self.set_current_tab(self.current_tab_idx)\\n\\n    def drop(self):\\n        self.column.drop()\\n        if self.current_tab:\\n            self.current_tab.drop()\\n        self.button_row.drop()\\n        [x.drop() for x in self.buttons]\\n        self.focus.drop()\", \"name\": \"TabView\"}", "created_at": null, "updated_at": 1754736945.4554539}