{"id": "93", "type": "class", "data": "{\"code_str\": \"class ProjectsView:\\n    def __init__(self):\\n        self.projects = world.classes.get_class(name='Projects')()\\n\\n        self.name = z.ReactiveValue('projects')\\n        self.focus = world.focus.add_child(self)\\n\\n        self.create_button = z.Button('+', focus_parent=self.focus)\\n        self.create_button.clicked.connect(self.create_clicked)\\n\\n        self.reload_button = z.Button('reload', focus_parent=self.focus)\\n        self.reload_button.clicked.connect(self.reload_clicked)\\n\\n        self.spacer = z.Spacer()\\n\\n        self.head = z.Flex(\\n            children=[\\n                z.FlexChild(self.create_button.layout),\\n                z.FlexChild(self.reload_button.layout),\\n                z.FlexChild(self.spacer.layout, flex=1)\\n            ]\\n        )\\n\\n        self.search_view = z.SearchView(items=[], builder=self.search_view_item_builder,\\n                                                focus_parent=self.focus, show_head=False)\\n\\n        self.column = z.Flex([z.FlexChild(self.head.layout),\\n                                      z.FlexChild(self.search_view.layout)\\n                                      ], axis='y', xalign='largest')\\n\\n        self.layout = self.column.layout\\n\\n        self.update_items()\\n\\n    def update_items(self):\\n        items = [(x, x['name'] or '') for x in self.projects.get_projects()]\\n        self.search_view.set_items(items)\\n\\n    def reload_clicked(self, f, i, d):\\n        self.update_items()\\n\\n    def drop(self):\\n        self.column.drop()\\n        self.search_view.drop()\\n        self.head.drop()\\n        self.spacer.drop()\\n        self.create_button.drop()\\n        self.reload_button.drop()\\n        self.focus.drop()\\n\\n    def create_clicked(self, f, i, d):\\n        project = self.projects.create_project()\\n        self.update_items()\\n        world.floaties.add(world.classes.get_class(name='ProjectView')(project))\\n\\n    def get_triggered(self, cls):\\n        world.floaties.add(world.classes.get_class(name='ProjectView')(cls))\\n\\n    def search_view_item_builder(self, item, context):\\n        b = z.ContextButton(label=item[1], focus_parent=context['focus_parent'], color=(0.4, 0.9, 0.4, 1),\\n                   actions=[\\n                       ('get', lambda: self.get_triggered(item[0])),\\n                   ])\\n        return b\", \"name\": \"ProjectsView\"}", "created_at": null, "updated_at": 1756754129.7301013}