{"id": "2a61bed0-5a50-46d9-b9cc-9f855fab08f6", "type": "class", "data": "{\"code_str\": \"class LLMMessageEntityView:\\n    def __init__(self, entity, focus_parent=None):\\n        self.focus = (focus_parent or world.focus).add_child(self)\\n        self.entity = entity\\n\\n        self.actions_panel = z.ActionsPanel([\\n            ('copy entity', self.entity.copy),\\n            ('delete', self.entity.delete),\\n        ], focus_parent=self.focus)\\n\\n        self.role_input = z.Input(self.entity.role, focus_parent=self.focus)\\n        self.role_input.submitted.connect(self.on_role_submitted)\\n        self.content_input = z.Input(self.entity.content, focus_parent=self.focus,\\n                                     multiline=True)\\n        self.content_input.submitted.connect(self.on_content_submitted)\\n\\n        self.column = z.Flex([\\n            z.FlexChild(self.actions_panel.layout),\\n            z.FlexChild(self.role_input.layout),\\n            z.FlexChild(self.content_input.layout, flex=1),\\n        ], axis='y', xalign='largest')\\n\\n        self.layout = self.column.layout\\n\\n    def on_role_submitted(self):\\n        role = self.role_input.text\\n        assert role in ('system', 'assistant', 'user')\\n        self.entity.role = role\\n        self.entity.save()\\n\\n    def on_content_submitted(self):\\n        self.entity.content = self.content_input.text\\n        self.entity.save()\\n\\n    def drop(self):\\n        self.column.drop()\\n        self.actions_panel.drop()\\n        self.role_input.drop()\\n        self.content_input.drop()\\n        self.focus.drop()\\n\", \"name\": \"LLMMessageEntityView\"}", "created_at": 1753175411.967347, "updated_at": 1754239007.5071666}