{"id": "289", "type": "class", "data": "{\"code_str\": \"class ViewportAwareFlipPositioner:\\n    def __init__(self, child):\\n        self.layout = z.Layout([child],\\n                                       layouter=self.layouter, measurer=self.measurer, name='viewport-aware-flip-positioner')\\n\\n    def measurer(self):\\n        self.layout.children[0].measurer()\\n        self.layout.measure = self.layout.children[0].measure\\n\\n    def layouter(self):\\n        child = self.layout.children[0]\\n        child.rotation = self.layout.rotation\\n        child.depth_offset_index = self.layout.depth_offset_index\\n        child.size = self.layout.size\\n        # TODO rather just flipping y axis, need to consider viewport and projection\\n        offset = np.array([0, -child.size[1], 0])\\n        child.position = self.layout.position + transformations.rotate_vector(child.rotation, offset)\\n        child.layouter()\\n        child.position = self.layout.position + transformations.rotate_vector(child.rotation, offset)\\n\\n    def drop(self):\\n        self.layout.drop()\\n\", \"name\": \"ViewportAwareFlipPositioner\"}", "created_at": null, "updated_at": 1754239007.5011587}