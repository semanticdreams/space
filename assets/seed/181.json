{"id": "181", "type": "class", "data": "{\"code_str\": \"class TableView:\\n    def __init__(self, items):\\n        self.items = items\\n        self.keys = list(items[0].keys())\\n        self.key_buttons = [z.ContextButton(label=key, color=[0.8, 0.8, 0.3, 1]) for key in self.keys]\\n        self.item_buttons = []\\n        self.grid = z.Grid()\\n        self.pagination = z.Pagination(len(items))\\n        self.pagination.page_changed.connect(self.page_changed)\\n        self.column = z.Flex([self.grid, self.pagination], axis='y', xalign='largest')\\n        self.add_key_buttons_to_grid()\\n        self.layout = self.column.layout\\n        self.spatiolator = z.Spatiolator(self.layout, self.key_buttons[0])\\n        self.focus = world.focus.add_child(self)\\n        return self.pagination.set_page(0)\\n\\n    def add_key_buttons_to_grid(self):\\n        return [self.grid.add_widget(x, [i, 0, 0]) for [i, x] in enumerate(self.key_buttons)]\\n\\n    def drop_item_buttons(self):\\n        for button in self.item_buttons:\\n            button.drop()\\n        return self.item_buttons.clear()\\n\\n    def drop_key_buttons(self):\\n        for button in self.key_buttons:\\n            button.drop()\\n        return self.key_buttons.clear()\\n\\n    def page_changed(self, data):\\n        self.grid.clear()\\n        self.drop_item_buttons()\\n        self.add_key_buttons_to_grid()\\n        [start, stop] = data['slice']\\n        page_items = self.items[start:stop:None]\\n        for [i, item] in enumerate(page_items):\\n            for [j, key] in enumerate(self.keys):\\n                button = z.ContextButton(label=str(item[key]), color=[0.9, 0.9, 0.4, 1])\\n                self.item_buttons.append(button)\\n                self.grid.add_widget(button, [j, i + 1, 0])\\n\\n    def drop(self):\\n        self.column.drop()\\n        self.grid.drop()\\n        self.drop_item_buttons()\\n        self.drop_key_buttons()\\n        return self.pagination.drop()\", \"name\": \"TableView\"}", "created_at": null, "updated_at": 1754239007.5006263}