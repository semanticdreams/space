{"id": "166", "type": "class", "data": "{\"code_str\": \"import webbrowser\\nclass HackernewsView:\\n    def __init__(self):\\n        self.hackernews = world.classes['Hackernews']()\\n        self.focus = world.focus.add_child(obj=self)\\n\\n        actions=[\\n            ('top', self.get_top_stories_clicked),\\n            ('new', self.get_new_stories_clicked),\\n            ('best', self.get_best_stories_clicked),\\n            ('saved', self.get_saved_stories_clicked),\\n        ]\\n        self.actions_panel = world.classes['ActionsPanel'](actions, focus_parent=self.focus)\\n\\n        self.story_list = world.classes['HackernewsStoryListView']([], self)\\n\\n        self.column = z.Flex([\\n            z.FlexChild(self.actions_panel.layout),\\n            z.FlexChild(self.story_list.layout)\\n        ], axis='y', xalign='largest')\\n\\n        self.layout = self.column.layout\\n\\n        self.get_top_stories_clicked()\\n\\n    def get_name(self):\\n        return 'Hackernews'\\n\\n    def get_saved_stories_clicked(self):\\n        world.aio.create_task(\\n            self.hackernews.get_saved_stories(), lambda stories: self.story_list.set_stories(stories))\\n\\n    def save_story(self, story):\\n        world.aio.create_task(self.hackernews.save_story(story['id']))\\n\\n    def view_comments(self, story):\\n        world.aio.create_task(\\n            self.hackernews.get_story_comments(story),\\n            lambda comments: print(comments)\\n        )\\n\\n    def open_story_in_browser(self, story):\\n        webbrowser.open(story['url'])\\n\\n    def open_comments_in_browser(self, story):\\n        webbrowser.open(f'https://news.ycombinator.com/item?id={story[\\\"id\\\"]}')\\n\\n    def get_top_stories_clicked(self):\\n        world.aio.create_task(\\n            self.hackernews.get_stories('topstories'),\\n            lambda stories: self.story_list.set_stories(stories)\\n        )\\n\\n    def get_new_stories_clicked(self):\\n        world.aio.create_task(\\n            self.hackernews.get_stories('newstories'),\\n            lambda stories: self.story_list.set_stories(stories)\\n        )\\n\\n    def get_best_stories_clicked(self):\\n        world.aio.create_task(\\n            self.hackernews.get_stories('beststories'),\\n            lambda stories: self.story_list.set_stories(stories)\\n        )\\n\\n    def close_story_dialog(self, story_list_dialog):\\n        world.floaties.drop_obj(story_list_dialog)\\n\\n    def add_story_list(self, title, stories):\\n        story_list_dialog = world.classes['HackernewsStoryListView'](stories, self, title=title)\\n        world.floaties.add(story_list_dialog)\\n\\n    def drop(self):\\n        self.column.drop()\\n        self.story_list.drop()\\n        self.actions_panel.drop()\\n        self.focus.drop()\", \"name\": \"HackernewsView\"}", "created_at": null, "updated_at": 1756754129.7239516}