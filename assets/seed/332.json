{"id": "332", "type": "class", "data": "{\"code_str\": \"import re\\nimport tempfile\\nimport subprocess\\n\\n\\nclass Dialogs:\\n    def edit_color_with_zenity(self, initial_color=None):\\n        # Convert the color to a string\\n        initial_color_string = '#%02x%02x%02x' % tuple(int(255 * c) for c in initial_color[:3])\\n\\n        # Open Zenity color picker\\n        try:\\n            completed_process = subprocess.run(['zenity', '--color-selection', '--show-palette', '--color=' + initial_color_string], check=True, stdout=subprocess.PIPE)\\n        except subprocess.CalledProcessError:\\n            print(\\\"Failed to open Zenity color picker\\\")\\n            return None\\n\\n        # Read the edited content\\n        edited_color_string = completed_process.stdout.decode('utf-8').strip()\\n\\n        # Extract RGB values from the string\\n        match = re.match(r'rgb\\\\((\\\\d+),(\\\\d+),(\\\\d+)\\\\)', edited_color_string)\\n        if not match:\\n            print(\\\"Invalid color format\\\")\\n            return None\\n\\n        edited_color = tuple(int(match.group(i)) / 255 for i in range(1, 4))\\n\\n        return (*edited_color, initial_color[3])\\n\\n    def edit_string(self, initial_string, file_suffix=''):\\n        # Create a temporary file\\n        with tempfile.NamedTemporaryFile(mode='w+', delete=False, suffix=file_suffix) as temp_file:\\n            # Write the initial string to the file\\n            temp_file_name = temp_file.name\\n            temp_file.write(initial_string)\\n\\n        # Open Kitty terminal with Vim\\n        try:\\n            #subprocess.run(['xfce4-terminal', '--disable-server', '-x', 'vim', temp_file_name], check=True)\\n            subprocess.run(['gnome-terminal', '--wait', '--', 'vim', temp_file_name], check=True)\\n        except subprocess.CalledProcessError:\\n            print(\\\"Failed to open Kitty with Vim\\\")\\n            return None\\n\\n        # Read the edited content\\n        with open(temp_file_name, 'r') as temp_file:\\n            edited_string = temp_file.read()\\n\\n        return edited_string\\n\\n    def edit_file(self, path):\\n        try:\\n            #subprocess.run(['xfce4-terminal', '-x', 'vim', path], check=True)\\n            subprocess.run(['kitty', 'vim', path], check=True)\\n        except subprocess.CalledProcessError:\\n            print(\\\"Failed to open Kitty with Vim\\\")\\n            return None\\n\\n    def error_message_box(self, message):\\n        subprocess.run(['zenity', '--error', '--text', message], check=True)\\n\\n    def confirm_message_box(self, message):\\n        p = subprocess.run(['zenity', '--question', '--text', message], check=False, capture_output=True)\\n        return p.returncode == 0\\n\\n    def choose_item_with_zenity(self, items):\\n        formatted_items = [y for x in enumerate(items) for y in [str(x[0]), x[1]]]\\n        p = subprocess.run(['zenity', '--list', *formatted_items, '--column=id', '--column=Select your choice', '--hide-column=1', '--print-column=1'], stdout=subprocess.PIPE, check=True)\\n        return int(p.stdout.decode('utf-8').strip())\\n\\n    def drop(self):\\n        pass\\n\", \"name\": \"Dialogs\"}", "created_at": null, "updated_at": 1754239007.5026238}