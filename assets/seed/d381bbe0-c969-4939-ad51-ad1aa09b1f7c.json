{"id": "d381bbe0-c969-4939-ad51-ad1aa09b1f7c", "type": "class", "data": "{\"code_str\": \"import time\\nclass SnackbarHost:\\n    def __init__(self):\\n        self.column = z.Flex([], axis='y', xalign='largest', yspacing=0.3)\\n        self.layout = self.column.layout\\n        self.buttons = []\\n        self.messages = []\\n        self.interval = world.apps['Time'].set_interval(self.update_snackbars, 1000)\\n\\n    def update_snackbars(self):\\n        self.clear()\\n        t = time.time()\\n        for message in list(self.messages):\\n            if message['duration'] \\\\\\n                and t - message['start_time'] >= message['duration']:\\n                self.messages.remove(message)\\n                continue\\n            self.buttons.append(\\n                z.ContextButton(\\n                    label=message['text'],\\n                    focusable=False, hud=True\\n                )\\n            )\\n        self.column.set_children([z.FlexChild(x.layout) for x in self.buttons])\\n        self.column.layout.mark_measure_dirty()\\n\\n    def clear(self):\\n        self.column.clear_children()\\n        for button in self.buttons:\\n            button.drop()\\n        self.buttons.clear()\\n\\n    def show_message(self, text, duration=2, color=(0, 0, 1, 1)):\\n        self.messages.append({\\n            'text': text,\\n            'duration': duration,\\n            'color': color,\\n            'start_time': time.time()\\n        })\\n        self.update_snackbars()\\n\\n    def drop(self):\\n        self.interval.drop()\\n        self.clear()\\n        self.column.drop()\\n\", \"name\": \"SnackbarHost\"}", "created_at": null, "updated_at": 1754736945.4929593}